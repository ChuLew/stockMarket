{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mitchlew/Documents/Streaming/streams/client/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/mitchlew/Documents/Streaming/streams/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/mitchlew/Documents/Streaming/streams/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import streams from'../apis/streams';import history from'../history';import{SIGN_IN,SIGN_OUT,CREATE_STREAM,FETCH_STREAMS,FETCH_STREAM,DELETE_STREAM,EDIT_STREAM}from'./types';export var signIn=function signIn(userId){return{type:SIGN_IN,payload:userId};};export var signOut=function signOut(){return{type:SIGN_OUT};};export var createStream=function createStream(formValues){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var userId,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userId=getState().auth.userId;_context.next=3;return streams.post('/api/streams',_objectSpread(_objectSpread({},formValues),{},{userId:userId}));case 3:response=_context.sent;dispatch({type:CREATE_STREAM,payload:response.data});history.push('/');case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var fetchStreams=function fetchStreams(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return streams.get('/api/streams');case 2:response=_context2.sent;dispatch({type:FETCH_STREAMS,payload:response.data});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref2.apply(this,arguments);};}();};export var fetchStream=function fetchStream(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return streams.get(\"/api/streams/\".concat(id));case 2:response=_context3.sent;dispatch({type:FETCH_STREAM,payload:response.data});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref3.apply(this,arguments);};}();};export var editStream=function editStream(id,formValues){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return streams.patch(\"/api/streams/\".concat(id),formValues);case 2:response=_context4.sent;dispatch({type:EDIT_STREAM,payload:response.data});history.push('/');case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref4.apply(this,arguments);};}();};export var deleteStream=function deleteStream(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return streams.delete(\"/api/streams/\".concat(id));case 2:dispatch({type:DELETE_STREAM,payload:id});history.push('/');case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x6){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/mitchlew/Documents/Streaming/streams/client/src/actions/index.js"],"names":["streams","history","SIGN_IN","SIGN_OUT","CREATE_STREAM","FETCH_STREAMS","FETCH_STREAM","DELETE_STREAM","EDIT_STREAM","signIn","userId","type","payload","signOut","createStream","formValues","dispatch","getState","auth","post","response","data","push","fetchStreams","get","fetchStream","id","editStream","patch","deleteStream","delete"],"mappings":"2YAAA,MAAOA,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,OACEC,OADF,CAEEC,QAFF,CAGEC,aAHF,CAIEC,aAJF,CAKEC,YALF,CAMEC,aANF,CAOEC,WAPF,KAQO,SARP,CAUA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,MAAM,CAAI,CAC9B,MAAO,CACLC,IAAI,CAAET,OADD,CAELU,OAAO,CAAEF,MAFJ,CAAP,CAID,CALM,CAOP,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,MAAO,CACLF,IAAI,CAAER,QADD,CAAP,CAGD,CAJM,CAMP,MAAO,IAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,UAAU,iGAAI,iBAAOC,QAAP,CAAiBC,QAAjB,sIAChCP,MADgC,CACrBO,QAAQ,GAAGC,IADU,CAChCR,MADgC,uBAEjBV,CAAAA,OAAO,CAACmB,IAAR,CAAa,cAAb,gCAAkCJ,UAAlC,MAA8CL,MAAM,CAANA,MAA9C,GAFiB,QAElCU,QAFkC,eAIxCJ,QAAQ,CAAC,CAAEL,IAAI,CAAEP,aAAR,CAAuBQ,OAAO,CAAEQ,QAAQ,CAACC,IAAzC,CAAD,CAAR,CACApB,OAAO,CAACqB,IAAR,CAAa,GAAb,EALwC,sDAAJ,oEAA/B,CAQP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,mGAAM,kBAAMP,QAAN,0JACThB,CAAAA,OAAO,CAACwB,GAAR,CAAY,cAAZ,CADS,QAC1BJ,QAD0B,gBAGhCJ,QAAQ,CAAC,CAAEL,IAAI,CAAEN,aAAR,CAAuBO,OAAO,CAAEQ,QAAQ,CAACC,IAAzC,CAAD,CAAR,CAHgC,wDAAN,kEAArB,CAMP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,EAAE,kGAAI,kBAAMV,QAAN,0JACRhB,CAAAA,OAAO,CAACwB,GAAR,wBAA4BE,EAA5B,EADQ,QACzBN,QADyB,gBAG/BJ,QAAQ,CAAC,CAAEL,IAAI,CAAEL,YAAR,CAAsBM,OAAO,CAAEQ,QAAQ,CAACC,IAAxC,CAAD,CAAR,CAH+B,wDAAJ,kEAAtB,CAMP,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACD,EAAD,CAAKX,UAAL,kGAAoB,kBAAMC,QAAN,0JACrBhB,CAAAA,OAAO,CAAC4B,KAAR,wBAA8BF,EAA9B,EAAoCX,UAApC,CADqB,QACtCK,QADsC,gBAG5CJ,QAAQ,CAAC,CAAEL,IAAI,CAAEH,WAAR,CAAqBI,OAAO,CAAEQ,QAAQ,CAACC,IAAvC,CAAD,CAAR,CACApB,OAAO,CAACqB,IAAR,CAAa,GAAb,EAJ4C,wDAApB,kEAAnB,CAOP,MAAO,IAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAH,EAAE,kGAAI,kBAAMV,QAAN,6IAC1BhB,CAAAA,OAAO,CAAC8B,MAAR,wBAA+BJ,EAA/B,EAD0B,QAGhCV,QAAQ,CAAC,CAAEL,IAAI,CAAEJ,aAAR,CAAuBK,OAAO,CAAEc,EAAhC,CAAD,CAAR,CACAzB,OAAO,CAACqB,IAAR,CAAa,GAAb,EAJgC,wDAAJ,kEAAvB","sourcesContent":["import streams from '../apis/streams';\nimport history from '../history';\nimport {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from './types';\n\nexport const signIn = userId => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = formValues => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const response = await streams.post('/api/streams', { ...formValues, userId });\n\n  dispatch({ type: CREATE_STREAM, payload: response.data });\n  history.push('/');\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get('/api/streams');\n\n  dispatch({ type: FETCH_STREAMS, payload: response.data });\n};\n\nexport const fetchStream = id => async dispatch => {\n  const response = await streams.get(`/api/streams/${id}`);\n\n  dispatch({ type: FETCH_STREAM, payload: response.data });\n};\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`/api/streams/${id}`, formValues);\n\n  dispatch({ type: EDIT_STREAM, payload: response.data });\n  history.push('/');\n};\n\nexport const deleteStream = id => async dispatch => {\n  await streams.delete(`/api/streams/${id}`);\n\n  dispatch({ type: DELETE_STREAM, payload: id });\n  history.push('/')\n};\n"]},"metadata":{},"sourceType":"module"}
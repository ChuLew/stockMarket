{"ast":null,"code":"import _classCallCheck from\"/Users/mitchlew/Documents/workspace-spring-tool-suite-4-4.6.1.RELEASE/Stock/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mitchlew/Documents/workspace-spring-tool-suite-4-4.6.1.RELEASE/Stock/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mitchlew/Documents/workspace-spring-tool-suite-4-4.6.1.RELEASE/Stock/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mitchlew/Documents/workspace-spring-tool-suite-4-4.6.1.RELEASE/Stock/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import _ from'lodash';import React from'react';import{connect}from'react-redux';import{fetchStream,editStream,fetchSavedPictures}from'../../actions';import StreamForm from'./StreamForm';import ImageList from'../pictures/ImageList';var StreamEdit=/*#__PURE__*/function(_React$Component){_inherits(StreamEdit,_React$Component);var _super=_createSuper(StreamEdit);function StreamEdit(){var _this;_classCallCheck(this,StreamEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onSubmit=function(formValues){_this.props.editStream(_this.props.match.params.id,formValues);};return _this;}_createClass(StreamEdit,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchStream(this.props.match.params.id);this.props.fetchSavedPictures();}},{key:\"renderPictures\",value:function renderPictures(){var id=this.props.match.params.id;var savedImageList=this.props.savedImages;var albumPictures=[];var i;for(i=0;i<this.props.savedImages.length;i++){// eslint-disable-next-line \nif(savedImageList[i].album_id==id){albumPictures.push(savedImageList[i]);}}return/*#__PURE__*/React.createElement(ImageList,{saved:2,id:id,savedImages:this.props.savedImages,albumPictures:albumPictures});}},{key:\"render\",value:function render(){if(!this.props.stream){return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Edit Album\"),/*#__PURE__*/React.createElement(StreamForm,{initialValues:_.pick(this.props.stream,'title','description'),onSubmit:this.onSubmit}),/*#__PURE__*/React.createElement(\"h3\",null,\"Click picture to delete from album\"),this.renderPictures());}}]);return StreamEdit;}(React.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{stream:state.streams[ownProps.match.params.id],savedImages:Object.values(state.savedImages)};};export default connect(mapStateToProps,{fetchStream:fetchStream,editStream:editStream,fetchSavedPictures:fetchSavedPictures})(StreamEdit);","map":{"version":3,"sources":["/Users/mitchlew/Documents/workspace-spring-tool-suite-4-4.6.1.RELEASE/Stock/client/src/components/streams/StreamEdit.js"],"names":["_","React","connect","fetchStream","editStream","fetchSavedPictures","StreamForm","ImageList","StreamEdit","onSubmit","formValues","props","match","params","id","savedImageList","savedImages","albumPictures","i","length","album_id","push","stream","pick","renderPictures","Component","mapStateToProps","state","ownProps","streams","Object","values"],"mappings":"ooBAAA,MAAOA,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAiCC,kBAAjC,KAA2D,eAA3D,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,C,GAEMC,CAAAA,U,uVAOJC,Q,CAAW,SAAAC,UAAU,CAAI,CACvB,MAAKC,KAAL,CAAWP,UAAX,CAAsB,MAAKO,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA9C,CAAkDJ,UAAlD,EACD,C,mGAPmB,CAClB,KAAKC,KAAL,CAAWR,WAAX,CAAuB,KAAKQ,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/C,EACA,KAAKH,KAAL,CAAWN,kBAAX,GACD,C,uDAKe,IACNS,CAAAA,EADM,CACC,KAAKH,KAAL,CAAWC,KAAX,CAAiBC,MADlB,CACNC,EADM,CAEd,GAAIC,CAAAA,cAAc,CAAG,KAAKJ,KAAL,CAAWK,WAAhC,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAIC,CAAAA,CAAJ,CACA,IAAIA,CAAC,CAAG,CAAR,CAAWA,CAAC,CAAE,KAAKP,KAAL,CAAWK,WAAX,CAAuBG,MAArC,CAA4CD,CAAC,EAA7C,CAAgD,CAC9C;AACA,GAAGH,cAAc,CAACG,CAAD,CAAd,CAAkBE,QAAlB,EAA8BN,EAAjC,CAAoC,CAClCG,aAAa,CAACI,IAAd,CAAmBN,cAAc,CAACG,CAAD,CAAjC,EACD,CACF,CACD,mBAAO,oBAAC,SAAD,EAAW,KAAK,CAAI,CAApB,CAAuB,EAAE,CAAIJ,EAA7B,CAAiC,WAAW,CAAI,KAAKH,KAAL,CAAWK,WAA3D,CAAwE,aAAa,CAAIC,aAAzF,EAAP,CACD,C,uCAEQ,CACP,GAAI,CAAC,KAAKN,KAAL,CAAWW,MAAhB,CAAwB,CACtB,mBAAO,4CAAP,CACD,CAED,mBACE,4CACE,2CADF,cAEE,oBAAC,UAAD,EACE,aAAa,CAAEtB,CAAC,CAACuB,IAAF,CAAO,KAAKZ,KAAL,CAAWW,MAAlB,CAA0B,OAA1B,CAAmC,aAAnC,CADjB,CAEE,QAAQ,CAAE,KAAKb,QAFjB,EAFF,cAME,mEANF,CAOG,KAAKe,cAAL,EAPH,CADF,CAWD,C,wBAxCsBvB,KAAK,CAACwB,S,EA2C/B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAC3C,MAAO,CAAEN,MAAM,CAAEK,KAAK,CAACE,OAAN,CAAcD,QAAQ,CAAChB,KAAT,CAAeC,MAAf,CAAsBC,EAApC,CAAV,CACDE,WAAW,CAAEc,MAAM,CAACC,MAAP,CAAcJ,KAAK,CAACX,WAApB,CADZ,CAAP,CAGD,CAJD,CAMA,cAAed,CAAAA,OAAO,CACpBwB,eADoB,CAEpB,CAAEvB,WAAW,CAAXA,WAAF,CAAeC,UAAU,CAAVA,UAAf,CAA0BC,kBAAkB,CAAlBA,kBAA1B,CAFoB,CAAP,CAGbG,UAHa,CAAf","sourcesContent":["import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream, editStream,fetchSavedPictures } from '../../actions';\nimport StreamForm from './StreamForm';\nimport ImageList from '../pictures/ImageList';\n\nclass StreamEdit extends React.Component {\n \n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n    this.props.fetchSavedPictures();\n  } \n\n  onSubmit = formValues => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n  renderPictures(){\n    const { id } = this.props.match.params;\n    var savedImageList = this.props.savedImages;\n    var albumPictures = [];\n    var i;\n    for(i = 0; i< this.props.savedImages.length;i++){\n      // eslint-disable-next-line \n      if(savedImageList[i].album_id == id){\n        albumPictures.push(savedImageList[i]);\n      }  \n    } \n    return <ImageList saved = {2} id = {id} savedImages = {this.props.savedImages} albumPictures = {albumPictures}/>\n  }\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n\n    return ( \n      <div>\n        <h3>Edit Album</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, 'title', 'description')}\n          onSubmit={this.onSubmit}\n        />\n        <h3>Click picture to delete from album</h3>\n        {this.renderPictures()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id],\n        savedImages: Object.values(state.savedImages)\n  }\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, editStream,fetchSavedPictures}\n)(StreamEdit);\n"]},"metadata":{},"sourceType":"module"}